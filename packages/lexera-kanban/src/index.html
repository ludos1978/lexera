<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Lexera Kanban</title>
  <link rel="stylesheet" href="app.css">
</head>
<body>

  <!-- Header -->
  <div class="header">
    <div class="header-main">
      <div class="search-container">
        <input id="search-input" class="search-input" type="text" placeholder="Search cards...">
      </div>
      <div class="header-actions">
        <button id="btn-window-settings" class="btn-icon" type="button" title="Board settings">&#9881;</button>
        <select id="theme-select" class="theme-select header-theme-select" title="Theme"></select>
        <div id="connection-dot" class="connection-dot" title="Connection status"></div>
      </div>
    </div>
  </div>

  <!-- Layout -->
  <div class="layout">
    <!-- Sidebar -->
    <div class="sidebar">
      <div class="sidebar-header">
        <span>Hierarchy</span>
        <div class="sidebar-header-actions">
          <button id="btn-sidebar-lock" class="sidebar-btn" title="Lock hierarchy (prevent add/remove)">&#128274;</button>
          <button id="btn-sidebar-sync" class="sidebar-btn" title="Sync with view">&#8982;</button>
        </div>
      </div>
      <div id="board-list" class="board-list"></div>
      <div id="sidebar-dashboard-divider" class="sidebar-dashboard-divider" role="separator" aria-label="Resize hierarchy and dashboard"></div>
      <div class="sidebar-dashboard" id="sidebar-dashboard">
        <div class="sidebar-header sidebar-dashboard-header">
          <span>Dashboard</span>
        </div>
        <div class="sidebar-dashboard-controls">
          <div class="dashboard-query-row">
            <input id="dashboard-search-input" class="dashboard-search-input" type="text" placeholder="Search board content...">
            <button id="btn-dashboard-search" class="sidebar-btn dashboard-search-btn" type="button" title="Run dashboard search">&#128269;</button>
          </div>
          <div class="dashboard-filter-row">
            <select id="dashboard-scope-select" class="dashboard-select" title="Search scope">
              <option value="active">Active Board</option>
              <option value="all">All Boards</option>
            </select>
            <button id="btn-dashboard-pin" class="board-action-btn" type="button" title="Pin current dashboard query">Pin</button>
          </div>
          <div class="dashboard-quick-row">
            <button class="board-action-btn dashboard-chip" data-dashboard-query="is:open due:overdue" type="button">Overdue</button>
            <button class="board-action-btn dashboard-chip" data-dashboard-query="is:open due:today" type="button">Today</button>
            <button class="board-action-btn dashboard-chip" data-dashboard-query="is:open due:week" type="button">Week</button>
            <button class="board-action-btn dashboard-chip" data-dashboard-query="is:open #hidden-internal-parked" type="button">Parked</button>
          </div>
        </div>
        <div class="sidebar-dashboard-body">
          <div class="dashboard-group">
            <div class="dashboard-group-header">Pinned Searches</div>
            <div id="dashboard-pinned-list" class="dashboard-list"></div>
          </div>
          <div class="dashboard-group">
            <div class="dashboard-group-header">Results</div>
            <div id="dashboard-results-list" class="dashboard-list"></div>
          </div>
          <div class="dashboard-group">
            <div class="dashboard-group-header">Tasks with Deadlines</div>
            <div id="dashboard-deadline-list" class="dashboard-list"></div>
          </div>
          <div class="dashboard-group">
            <div class="dashboard-group-header">Overdue</div>
            <div id="dashboard-overdue-list" class="dashboard-list"></div>
          </div>
        </div>
      </div>
    </div>

    <!-- Main -->
    <div id="main-content" class="main">
      <div id="board-header" class="board-header hidden"></div>
      <div id="columns-container" class="columns-container hidden"></div>
      <div id="search-results" class="search-results hidden"></div>
      <div id="empty-state" class="empty-state">
        <div class="empty-state-icon">&#9776;</div>
        <div>Select a board from the sidebar</div>
      </div>
    </div>
  </div>

  <!-- Status Bar -->
  <div id="status-bar" class="status-bar">
    <span id="status-msg" class="status-msg"></span>
  </div>

  <!-- Log Panel (expandable from status bar) -->
  <div id="log-panel" class="log-panel hidden">
    <div class="log-panel-header">
      <span class="log-panel-title">Log</span>
      <div class="log-panel-actions">
        <button id="log-clear-btn" class="log-panel-btn" title="Clear log">Clear</button>
        <button id="log-close-btn" class="log-panel-btn" title="Close log">&#10005;</button>
      </div>
    </div>
    <div id="log-entries" class="log-entries"></div>
  </div>

  <script src="api.js"></script>
  <script src="app.js"></script>
</body>
</html>
